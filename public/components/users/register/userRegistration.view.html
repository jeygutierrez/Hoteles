<h1>Registro de Usuarios</h1>
<form name="formClientRegistration" ng-submit="vm.registerUser(vm.newClient)" class="col-md-8">
  <!-- Información Personal -->
  <div class="my-3">
    <h3>Información Personal</h3>

    <div class="form-group">
      <label for="inputId">Nº de Identificación:</label>
      <input type="text" class="form-control" ng-model="vm.newClient.id" name="txtClientId"
      pattern="^[0-9]\d{8}$" minlength="9" maxlength="9" autocomplete="off" required>
      <div ng-messages="formClientRegistration.txtClientId.$error" role="alert">
        <div ng-message="required">
          <small class="form-text text-muted">Este campo es requerido</small>
        </div>
        <div ng-message="pattern">
          <small class="form-text text-muted">Formato Incorrecto</small>
        </div>
        <div ng-message="minlength">
          <small class="form-text text-muted">Mínimo 9 caracteres</small>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputFirstName">Primer nombre</label>
        <input type="text" class="form-control" ng-model="vm.newClient.firstName" name="txtFirstName"
          pattern="[ñáéíóúA-Za-z ]+" autocomplete="off" required>
        <div ng-messages="formClientRegistration.txtFirstName.$error" role="alert">
          <div ng-message="required">
            <small class="form-text text-muted">Este campo es requerido</small>
          </div>
          <div ng-message="pattern">
            <small class="form-text text-muted">Formato incorrecto, no se permite ingresar numeros</small>
          </div>
        </div>
      </div>

      <div class="form-group col-md-6">
        <label for="inputSecondName">Segundo nombre</label>
        <input type="text" class="form-control" ng-model="vm.newClient.secondName" name="txtSecondName"
          pattern="[ñáéíóúA-Za-z ]+" autocomplete="off">
        <div ng-messages="formClientRegistration.txtSegundoNombre.$error" role="alert">
          <div ng-message="pattern">
            <small class="form-text text-muted">Formato incorrecto, no se permite ingresar numeros</small>
          </div>
        </div>
      </div>

      <div class="form-group col-md-6">
        <label for="inputFirstSurname">Primer Apellido</label>
        <input type="text" class="form-control" ng-model="vm.newClient.firstSurname" name="txtFirstSurname"
          pattern="[ñáéíóúA-Za-z ]+" autocomplete="off" required>
        <div ng-messages="formClientRegistration.txtFirstSurname.$error" role="alert">
          <div ng-message="required">
            <small class="form-text text-muted">Este campo es requerido</small>
          </div>
          <div ng-message="pattern">
            <small class="form-text text-muted">Formato incorrecto, no se permite ingresar numeros</small>
          </div>
        </div>
      </div>

      <div class="form-group col-md-6">
        <label for="inputSecondSurname">Segundo Apellido</label>
        <input type="text" class="form-control" ng-model="vm.newClient.secondSurname" name="txtSecondSurname"
          pattern="[ñáéíóúA-Za-z ]+" autocomplete="off">
        <div ng-messages="formClientRegistration.txtSegundoApellido.$error" role="alert">
          <div ng-message="pattern">
            <small class="form-text text-muted">Formato incorrecto, no se permite ingresar numeros</small>
          </div>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputEmail">Correo Electrónico:</label>
        <input type="email" class="form-control" ng-model="vm.newClient.email" name="txtClientEmail" autocomplete="off"
          required>
        <div ng-messages="formClientRegistration.txtClientEmail.$error" role="alert">
          <div ng-message="required">
            <small class="form-text text-muted">Este campo es requerido</small>
          </div>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="inputEmail">Contraseña:</label>
        <input type="password" class="form-control" ng-model="vm.newClient.password" name="txtClientPassword" autocomplete="off"
          required>
        <div ng-messages="formClientRegistration.txtClientPassword.$error" role="alert">
          <div ng-message="required">
            <small class="form-text text-muted">Este campo es requerido</small>
          </div>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputFechaNacimiento">Fecha de Nacimiento</label>
        <input type="date" class="form-control" ng-model="vm.newClient.birthdate" name="txtBirthdate"
          autocomplete="off" required>
        <div ng-messages="formClientRegistration.txtBirthdate.$error" role="alert">
          <div ng-message="required">
            <small class="form-text text-muted">Este campo es requerido</small>
          </div>
        </div>
      </div>

      <div class="form-group col-md-6">
        <label for="inputTelefono">Teléfono</label>
        <input type="text" class="form-control" id="inputTelefono" ng-model="vm.newClient.phone" name="txtPhone" pattern="^[2-6-7-8]*\d{7}"  minlength="8" maxlength="8" required>
        <div ng-messages="formClientRegistration.txtPhone.$error" role="alert">
          <div ng-message="required">
            <small class="form-text text-muted">Este campo es requerido</small>
          </div>
          <!-- <div ng-message="pattern">
                          <small class="form-text text-muted">Formato de teléfono incorrecto</small>
                        </div> -->
          <div ng-message="minlength">
            <small class="form-text text-muted">Mínimo 8 caracteres</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btnAccion" ng-disabled="formRegistrarCliente.$invalid">Registrar Cliente</button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ubicación</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ng-map id="map" center="current-location" geo-callback="vm.callbackFunc('you')" styles="width: 50%, height: 20em">
            <marker position="current-location" draggable="true" on-dragend="vm.getCurrentLocation()" coords="marker.coords" options="marker.options"></marker>
          </ng-map>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          <button type="button" class="btn btn-primary">Guardar localización</button>
        </div>
      </div>
    </div>
  </div>
</form>
